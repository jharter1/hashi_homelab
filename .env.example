# Proxmox Configuration
# Format: https://your-proxmox-host:8006/api2/json
PROXMOX_URL=https://10.0.0.21:8006/api2/json
PROXMOX_NODE=pve1
PROXMOX_USERNAME=root@pam
PROXMOX_PASSWORD=your-password-here

# SSH Configuration
SSH_USERNAME=packer
SSH_PASSWORD=your-ssh-password-here

# Network Configuration
NETWORK_GATEWAY=10.0.0.1
NETWORK_DNS=10.0.0.10
NETWORK_BRIDGE=vmbr0
NETWORK_VLAN_TAG=

# Storage Configuration
PROXMOX_STORAGE=NAS-SharedStorage

# Template VM IDs (must not conflict with existing VMs)
UBUNTU_BASE_VMID=9000
ALPINE_BASE_VMID=9001

# Cloud-init VM Configuration
# Ubuntu Template
UBUNTU_VM_NAME=ubuntu-2404-cloud-template
UBUNTU_CLOUD_IMAGE_URL=https://cloud-images.ubuntu.com/releases/24.04/release/ubuntu-24.04-server-cloudimg-amd64.img
UBUNTU_MEMORY=2048
UBUNTU_CORES=2

# Alpine Template
ALPINE_VM_NAME=alpine-320-cloud-template
ALPINE_CLOUD_IMAGE_URL=https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/cloud/nocloud_alpine-3.20.8-x86_64-bios-cloudinit-r0.qcow2
ALPINE_MEMORY=1024
ALPINE_CORES=1

# Optional SSH public key (leave empty to use password only)
SSH_PUBLIC_KEY=

# HashiCorp Tool Versions
CONSUL_VERSION=1.18.0
NOMAD_VERSION=1.7.5
VAULT_VERSION=1.16.0

# Packer Variables (Packer automatically loads variables with PKR_VAR_ prefix)
# Copy this file to .env, fill in your values, then source it:
#   cp .env.example .env
#   # Edit .env with your actual values
#   set -a; source .env; set +a
#
# For Ubuntu Nomad template (uses VMID 9000):
#   export PKR_VAR_clone_vm_id=9000
#   packer build packer-templates/ubuntu/ubuntu-nomad.pkr.hcl
#
# For Alpine Nomad template (uses VMID 9001):
#   export PKR_VAR_clone_vm_id=9001
#   packer build packer-templates/alpine/alpine-nomad.pkr.hcl

PKR_VAR_proxmox_url=$PROXMOX_URL
PKR_VAR_proxmox_node=$PROXMOX_NODE
PKR_VAR_proxmox_password=$PROXMOX_PASSWORD
PKR_VAR_ssh_username=$SSH_USERNAME
