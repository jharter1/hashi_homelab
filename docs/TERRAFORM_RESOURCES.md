# Terraform Resources Inventory (via Terraform MCP Server)

This document is intended to be **generated and maintained by AI agents** using the official Terraform MCP server (`hashicorp/terraform-mcp-server`) against Terraform Cloud (`app.terraform.io`).

> **Source of truth:** Terraform Cloud / Terraform Enterprise workspaces  
> **How to update:** Ask your MCP-enabled assistant to refresh this inventory using the Terraform MCP tools.

## How to refresh this file

From an AI assistant that has the Terraform MCP server configured:

1. **List workspaces**
   - Use the `list_workspaces` tool to discover all relevant workspaces in your organization.
2. **Summarize each workspace**
   - For each workspace, use `get_workspace_details` to extract:
     - High-level description and tags
     - Key providers
     - Resource types and approximate counts
3. **Update this markdown**
   - Rewrite the sections below with the latest view of:
     - Which workspaces exist
     - What resources they manage
     - Any notable relationships (e.g., servers vs clients, shared networks, etc.)

Example natural-language instruction to the assistant:

> "Using the Terraform MCP server connected to app.terraform.io, list all Terraform workspaces in my org, summarize the resources managed by each (by type and count), and update `docs/TERRAFORM_RESOURCES.md` accordingly."

---

## Workspaces Overview

_This section should be regenerated by the Terraform MCP server._

| Workspace           | Description                          | Environment | Key Providers              | Notes |
|---------------------|--------------------------------------|-------------|----------------------------|-------|
| `homelab-dev`       | _TBD by MCP server_                 | `dev`       | `proxmox`, `nomad`, ...    |       |
| `homelab-hub`       | _TBD by MCP server_                 | `hub`       | `proxmox`, `vault`, ...    |       |
| `...`               |                                      |             |                            |       |

---

## Workspace Details

> **Note:** The content below is a template. Replace with real data via the Terraform MCP tools.

### `homelab-dev`

- **Description:** _TBD_
- **Tags:** `_TBD_`
- **Providers:** `_TBD_`

#### Resource summary

| Resource Type                           | Count | Notes                |
|-----------------------------------------|-------|----------------------|
| `proxmox_vm_qemu`                       | _N/A_ | Nomad servers/clients|
| `proxmox_lxc`                           | _N/A_ |                      |
| `nomad_job`                             | _N/A_ | Bootstrap jobs, etc. |
| `...`                                   |       |                      |

---

### `homelab-hub`

- **Description:** _TBD_
- **Tags:** `_TBD_`
- **Providers:** `_TBD_`

#### Resource summary

| Resource Type                           | Count | Notes                |
|-----------------------------------------|-------|----------------------|
| `proxmox_vm_qemu`                       | _N/A_ | Vault / hub services |
| `...`                                   |       |                      |

---

### Additional notes

- When new workspaces are created or decommissioned, make sure this file is updated via the Terraform MCP server.
- For destructive operations (applies/destroys), only enable `ENABLE_TF_OPERATIONS=true` in the Terraform MCP server when you explicitly want AI-driven changes; for **tracking/inventory**, read-only access is sufficient.

